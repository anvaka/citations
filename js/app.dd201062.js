(function(e){function t(t){for(var r,a,i=t[0],u=t[1],c=t[2],h=0,p=[];h<i.length;h++)a=i[h],s[a]&&p.push(s[a][0]),s[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==s[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"10e4":function(e,t,n){},"234b":function(e,t,n){"use strict";var r=n("7fa6"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("chart",{attrs:{vm:e.appState.papers}}),n("form",{staticClass:"search-box",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("typeahead",{attrs:{placeholder:"Find the most cited papers by keyword","ref:typeahead":"",query:e.appState.query,"get-suggestions":e.getSuggestions},on:{selected:e.doSearch}})],1),e.isLoading?e._e():n("div",{staticClass:"help"},[e._v("\n    Most cited works within category.\n    "),n("a",{staticClass:"highlight",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.aboutVisible=!0}}},[e._v("Learn more.")])]),e.appState.progress.working?n("div",{staticClass:"progress"},[e._v("\n    "+e._s(e.appState.progress.message)+"\n    "+e._s(e.appState.progress.error)+"\n  ")]):e._e(),n("div",{staticClass:"about-line"},[n("a",{staticClass:"about-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.aboutVisible=!0}}},[e._v("about")]),n("a",{staticClass:"bold",attrs:{href:"https://github.com/anvaka/citations"}},[e._v("source code")])]),e.aboutVisible?n("about",{on:{close:function(t){e.aboutVisible=!1}}}):e._e(),e.appState.hasQuery?e._e():n("div",{staticClass:"welcome"},[n("h3",[e._v("Welcome!")]),n("p",[e._v("\n      This website renders most cited papers within a given keyword.\n      "),n("a",{staticClass:"highlight",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.aboutVisible=!0}}},[e._v("Click here")]),e._v(" to learn more, or\n      "),n("a",{staticClass:"highlight",attrs:{href:"?query=computer%20science"}},[e._v("try demo")]),e._v(".\n    ")])])],1)},o=[],a=n("d225"),i=n("b0b4"),u=function(){function e(){Object(a["a"])(this,e),this.message="",this.working=!0,this.query=""}return Object(i["a"])(e,[{key:"startDownload",value:function(e){this.query=e}},{key:"setDownloaded",value:function(e){this.message="Downloading ".concat(this.query," (").concat(e.percent,")")}},{key:"done",value:function(){this.working=!1}},{key:"downloadError",value:function(e){this.error=e}},{key:"reset",value:function(){this.error=null,this.message="",this.working=!0}}]),e}(),c=(n("55dd"),n("70f1")),l=n.n(c),h=(n("c5f6"),n("795b")),p=n.n(h),d=(n("96cf"),n("3b8d")),f=(n("ac6a"),n("2d7d")),g=n.n(f),v=n("a4bb"),m=n.n(v);function b(e,t){var n;t||(t={});var r=new p.a(o);return r.cancel=s,r;function s(){n&&n.abort()}function o(r,s){function o(e){e.lengthComputable?t.progress({loaded:e.loaded,total:e.total,percent:e.loaded/e.total,lengthComputable:!0}):t.progress({loaded:e.loaded,lengthComputable:!1})}function a(){if(200===n.status){var o=n.response;"json"===t.responseType&&"string"===typeof o&&(o=JSON.parse(o)),r(o)}else s("Unexpected status code ".concat(n.status," when calling ").concat(e))}function i(t){console.error(t),s("Failed to download ".concat(e))}function u(){s({cancelled:!0,message:"Cancelled download of ".concat(e)})}n=new XMLHttpRequest,"function"===typeof t.progress&&n.addEventListener("progress",o,!1),n.addEventListener("load",a,!1),n.addEventListener("error",i,!1),n.addEventListener("abort",u,!1),n.open(t.method||"GET",e),t.responseType&&(n.responseType=t.responseType),t.headers&&m()(t.headers).forEach(function(e){n.setRequestHeader(e,t.headers[e])}),"POST"===t.method?n.send(t.body):n.send(null)}}var y=n("bbd6");function w(e){var t,n=new g.a,r=[],s=new g.a,o=b(e+"allKeys.json",{responseType:"json"}).then(function(e){return e.forEach(function(e){r.push(y.prepare(e.n));var t=e.f||e.n;n.set(e.n,t)}),n});return{getSuggestion:a,getPapers:u};function a(e){return i.apply(this,arguments)}function i(){return i=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return n=y.go(t,r,{limit:100}),e.abrupt("return",p.a.resolve(n.map(function(e){return{html:y.highlight(e,"<b>","</b>"),text:e.target}})));case 4:case"end":return e.stop()}},e,this)})),i.apply(this,arguments)}function u(e,t){return c.apply(this,arguments)}function c(){return c=Object(d["a"])(regeneratorRuntime.mark(function r(a,i){var u,c,h;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return i.message="Downloading entities...",r.next=3,o;case 3:if(u=s.get(c),!u){r.next=6;break}return r.abrupt("return",p.a.resolve(u));case 6:if(c=n.get(a),c){r.next=9;break}return r.abrupt("return",p.a.reject("NO_FILE"));case 9:return i.startDownload(a),h=e+"files/"+encodeURIComponent(c)+".json",t&&t.cancel(),t=b(h,{responseType:"json",progress:function(e){i.setDownloaded(e)}}),r.abrupt("return",t.then(function(e){var n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;e.forEach(function(e){e.c=l()(e.c,10),e.url="https://api.semanticscholar.org/".concat(e.id),e.c>r&&(r=e.c),e.c<n&&(n=e.c)}),e.sort(function(e,t){return t.c-e.c});var o={papers:e,min:n,max:r};return s.set(c,o),t=null,i.done(),o}));case 14:case"end":return r.stop()}},r,this)})),c.apply(this,arguments)}}var _=!0,k=_?"https://anvaka.github.io/citation-data/1/":"http://localhost:8081/",S=w(k),C=S,x=n("9cf4"),T=x({query:""},{useSearch:!0}),E=T.get(),j={progress:new u,query:E.query,hasQuery:!1,papers:{max:0,min:0,papers:[]}};j.query&&I(j.query);var q=j;function O(e){j.query=e.query}function I(e){j.hasQuery=!0,j.progress.reset(),T.set("query",e),C.getPapers(e,j.progress).then(function(e){var t=T.get("since");t||(t=1800),j.papers.min=e.min,j.papers.max=e.max,j.papers.papers=e.papers.filter(function(e){return e.y>t})}).catch(function(e){j.progress.error=e})}T.onChange(O);var D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ak-typeahead"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentQuery,expression:"currentQuery"}],ref:"input",attrs:{autofocus:"",readonly:e.readonly,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",placeholder:e.placeholder},domProps:{value:e.currentQuery},on:{input:[function(t){t.target.composing||(e.currentQuery=t.target.value)},e.getSuggestionsInternal],keydown:e.cycleTheList}}),e.currentQuery?n("a",{staticClass:"search-submit",attrs:{type:"submit",href:"#"},on:{click:function(t){return t.preventDefault(),e.pickCurrentText(t)}}},[e._v("Go")]):e._e(),e.showSuggestions?n("ul",{staticClass:"suggestions"},e._l(e.suggestions,function(t,r){return n("li",{key:r},[n("a",{staticClass:"suggestion",class:{selected:t.selected},attrs:{href:"#"},domProps:{innerHTML:e._s(t.html)},on:{click:function(n){n.preventDefault(),e.pickSuggestion(t)}}})])}),0):e._e(),e.showLoading?n("ul",{staticClass:"suggestions"},[n("li",{staticClass:"searching"},[e.loadingError?e._e():n("span",[e._v("Searching...")]),e.loadingError?n("div",{staticClass:"loading-error"},[n("div",[e._v("Failed to get topics:")]),n("pre",[e._v(e._s(e.loadingError))])]):e._e()])]):e._e()])},L=[],Q=n("a745"),N=n.n(Q),P=(n("28a5"),{props:{readonly:{default:!1},placeholder:{default:"Type here"},getSuggestions:{default:function(e){return e.split()}},query:{default:""},delay:{default:80}},data:function(){return{currentSelected:-1,showSuggestions:!1,showLoading:!1,loadingError:null,suggestions:[],currentQuery:this.query}},watch:{query:function(e){this.currentQuery=e}},methods:{refresh:function(){this.showSuggestions&&this.getSuggestionsInternal()},hideSuggestions:function(){this.showSuggestions=!1,this.showLoading=!1,this.pendingKeyToShow=!0},showIfNeeded:function(e){this.pendingKeyToShow||(this.showSuggestions=e)},focus:function(){this.$refs.input.focus()},pickCurrentText:function(){this.pickSuggestion({text:this.currentQuery})},pickSuggestion:function(e){this.currentQuery=e.text,this.hideSuggestions(),this.$emit("selected",this.currentQuery)},getSuggestionsInternal:function(){var e=this;e.previous&&window.clearTimeout(e.previous),e.currentQuery?e.previous=window.setTimeout(function(){e.previous=null;var t=e.currentQuery,n=e.getSuggestions(t);if(N()(n))e.suggestions=n.map(function(e){return{selected:!1,text:e.text,html:e.html}}),e.currentSelected=-1,e.showIfNeeded(n&&n.length>0);else{if(!n)throw new Error("Could not parse suggestions response");e.loadingError=null,e.showLoading=!0,n.then(function(t){e.showLoading=!1,t=t||[],e.suggestions=t.map(function(e){return{selected:!1,text:e.text,html:e.html}}),e.currentSelected=-1,e.showIfNeeded(t&&t.length>0)},function(t){e.loadingError=t})}},e.delay):this.showSuggestions=!1},cycleTheList:function(e){var t,n=this.suggestions,r=this.currentSelected;if(this.pendingKeyToShow=!1,38===e.which)t=-1;else if(40===e.which)t=1;else{if(13===e.which)return n[r]?this.pickSuggestion(n[r]):this.pickSuggestion({text:this.currentQuery}),void e.preventDefault();27===e.which&&this.hideSuggestions()}t&&0!==n.length&&(e.preventDefault(),r>=0&&(this.suggestions[r].selected=!1),r+=t,r<0&&(r=n.length-1),r>=n.length&&(r=0),this.suggestions[r].selected=!0,this.currentSelected=r)}}}),$=P,M=(n("234b"),n("2877")),V=Object(M["a"])($,D,L,!1,null,null,null),F=V.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart"},e._l(e.vm.papers,function(t,r){return n("a",{key:r,staticClass:"bar",attrs:{href:t.url,target:"_blank",title:t.t}},[n("div",{staticClass:"background",style:{width:e.getWidth(t)}}),n("div",{staticClass:"text"},[n("b",[e._v(e._s(r+1)+".")]),n("div",{staticClass:"paper-title-container"},[n("div",{staticClass:"title"},[e._v(e._s(t.t))]),n("div",{staticClass:"info"},[t.y?n("span",[e._v("Published "+e._s(t.y)+".")]):e._e(),n("span",[e._v(" Cited "+e._s(e.formatNumber(t.c))+" times")])])])])])}),0)},R=[],A=(n("6b54"),n("a481"),{name:"Chart",props:["vm"],methods:{getWidth:function(e){var t=this.vm,n=t.min,r=t.max;return Math.round(100*(e.c-n)/(r-n))+"%"},formatNumber:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}}}),G=A,K=(n("b741"),Object(M["a"])(G,H,R,!1,null,null,null)),W=K.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("div",{staticClass:"background absolute",on:{click:function(t){return t.preventDefault(),e.close(t)}}}),n("div",{staticClass:"content"},[n("h3",[e._v("\n      Most cited works\n      "),n("a",{staticClass:"close bold highlight",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.close(t)}}},[e._v("close")])]),e._m(0),n("p",[e._v("\n      Semantic Scholar uses AI to extract papers important to this topic, and I use these topics (entities) to show most cited papers.\n    ")]),e._m(1),n("p",[e._v("I hope you like it! Please let me know.")]),e._m(2),n("a",{staticClass:"large-close bold highlight",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.close(t)}}},[e._v("close")])])])},U=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("This website shows you a distribution of citations, based on "),n("a",{attrs:{href:"https://www.semanticscholar.org/",target:"_blank"}},[e._v("semanticscholar.org")]),e._v(" data.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("\n        Find the source code\n        "),n("a",{staticClass:"highlight",attrs:{href:"http://github.com/anvaka/citations"}},[e._v("on GitHub.")])]),n("li",[e._v("\n        Stay tuned for updates on\n        "),n("a",{staticClass:"highlight",attrs:{href:"https://twitter.com/anvaka"}},[e._v("Twitter.")])]),n("li",[n("a",{staticClass:"highlight",attrs:{href:"https://www.patreon.com/anvaka"}},[e._v("Support me on Patreon")]),e._v(" .\n      ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("With passion,\n      "),n("br"),e._v("Anvaka\n    ")])}],Y={mounted:function(){var e=this;this.closeHandler=function(t){27===t.keyCode&&(t.preventDefault(),e.close())},document.addEventListener("keyup",this.closeHandler)},beforeDestroy:function(){document.removeEventListener("keyup",this.closeHandler)},methods:{close:function(){this.$emit("close")}}},z=Y,X=(n("881e"),Object(M["a"])(z,J,U,!1,null,null,null)),B=X.exports,Z={name:"app",components:{Typeahead:F,Chart:W,About:B},data:function(){return{appState:q,aboutVisible:!1}},computed:{isLoading:function(){return q.progress.working}},methods:{doSearch:function(e){q.query=e,this.onSubmit()},getSuggestions:function(e){return C.getSuggestion(e)},onSubmit:function(){q.query&&I(q.query)}}},ee=Z,te=(n("7faf"),Object(M["a"])(ee,s,o,!1,null,null,null)),ne=te.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(ne)}}).$mount("#app")},"7fa6":function(e,t,n){},"7faf":function(e,t,n){"use strict";var r=n("8fba"),s=n.n(r);s.a},"881e":function(e,t,n){"use strict";var r=n("b4b3"),s=n.n(r);s.a},"8fba":function(e,t,n){},b4b3:function(e,t,n){},b741:function(e,t,n){"use strict";var r=n("10e4"),s=n.n(r);s.a}});
//# sourceMappingURL=app.dd201062.js.map